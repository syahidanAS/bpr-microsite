(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5707a84"],{1681:function(t,e,a){},2677:function(t,e,a){"use strict";var i=a("8654");e["a"]=i["a"]},"368e":function(t,e,a){},"4bd4":function(t,e,a){"use strict";var i=a("5530"),n=(a("caad"),a("2532"),a("07ac"),a("4de4"),a("d3b7"),a("159b"),a("7db0"),a("58df")),o=a("7e2b"),s=a("3206");e["a"]=Object(n["a"])(o["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",(function(a){e.$set(e.errorBag,t._uid,a)}),{immediate:!0})},i={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=a(t)))})):i.valid=a(t),i},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var a=this.watchers.find((function(t){return t._uid===e._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(i["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},5803:function(t,e,a){},"7dca":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{style:{backgroundImage:"url("+a("0e51")+")"},attrs:{id:"inspire"}},[i("v-container",{staticClass:"px-6"},[i("v-select",{attrs:{items:t.items,"item-text":"state","item-value":"abbr",label:"Filter Kelas","return-object":"","single-line":""},on:{change:t.filterByClass},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),"admin"==t.role||"teacher"==t.role?i("LearningReportDialog"):t._e(),i("v-card",{staticClass:"my-5 py-4 hidden-md-and-down"},[i("v-card-title",[t._v(" Laporan Belajar Siswa Kelas "),i("v-chip",{staticClass:"ma-2",attrs:{color:"primary"}},[t._v(" "+t._s(t.select.state)+" ")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.isLoading?i("v-progress-circular",{staticClass:"my-5 hidden-sm-and-down",staticStyle:{"margin-left":"40%","margin-right":"40%"},attrs:{size:30,width:7,color:"purple",indeterminate:""}}):i("v-data-table",{staticClass:"hidden-sm-and-down",attrs:{headers:t.headers,items:t.docs,search:t.search},scopedSlots:t._u([{key:"item",fn:function(e){return[i("tr",[i("td",[t._v(t._s(e.item.full_name))]),i("td",[t._v(t._s(e.item.title))]),i("td",[t._v(t._s(e.item.class))]),i("td",[t._v(t._s(t._f("moment")(e.item.created_at)))]),i("td",[t._v(t._s(t._f("moment_time")(e.item.created_at)))]),i("td",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[i("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary",href:e.item.filename_url,target:"_blank"}},"v-btn",o,!1),n),[i("v-icon",{attrs:{dark:""}},[t._v("mdi-eye")])],1)]}}],null,!0)},[i("span",[t._v("Lihat")])])],1),"admin"==t.role||"teacher"==t.role?i("td",[i("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[i("v-btn",t._g(t._b({attrs:{fab:"",small:"",color:"warning"},on:{click:function(a){return t.getPayload(e.item.id,e.item.title,e.item.description,e.item.class,e.item.full_name,e.item.filename_url)}}},"v-btn",o,!1),n),[i("v-icon",[t._v("mdi-pen")])],1)]}},{key:"default",fn:function(e){return[i("v-card",[i("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Ubah Data")]),i("v-card-text",[i("div",{},[i("v-form",{ref:"form",staticClass:"my-4",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{counter:10,rules:t.nameRules,label:"Judul Laporan",required:""},model:{value:t.updatePayload.title,callback:function(e){t.$set(t.updatePayload,"title",e)},expression:"updatePayload.title"}}),i("label",{attrs:{for:"standard-select"}},[t._v("Kelas")]),i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.updatePayload.class,expression:"updatePayload.class"}],attrs:{id:"standard-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.updatePayload,"class",e.target.multiple?a:a[0])}}},[i("option",{domProps:{value:t.updatePayload.class}},[t._v(" "+t._s(t.updatePayload.class)+" ")]),t._l(t.items,(function(e){return i("option",{key:e.index,domProps:{value:e.abbr}},[t._v(" "+t._s(e.state)+" ")])}))],2)]),i("v-textarea",{attrs:{name:"input-7-1",label:"Deskripsi (opsional)",hint:"Deskripsi bersifat opsional",required:""},model:{value:t.updatePayload.description,callback:function(e){t.$set(t.updatePayload,"description",e)},expression:"updatePayload.description"}}),i("v-file-input",{attrs:{type:"file",label:"Dokumen Laporan",required:""},on:{change:function(e){return t.handleFileUpload(e)}}}),i("v-btn",{attrs:{"x-small":"",color:"secondary",href:t.updatePayload.filename,target:"_blank"}},[i("v-icon",{staticClass:"mr-2",attrs:{"x-small":""}},[t._v(" mdi-eye-outline ")]),i("span",[t._v("Lihat Dokumen")])],1),t.isLoading?i("h3",{attrs:{block:""}},[t._v(" "+t._s(t.progressUpload)+"% ")]):t._e(),t.isLoading?i("v-progress-linear",{attrs:{color:"light-green darken-4",height:"10",value:t.progressUpload,striped:""}}):t._e(),i("v-btn",{staticClass:"my-5 mr-4",attrs:{color:"success",block:""},on:{click:t.submit}},[t._v(" Ubah Data ")])],1)],1)]),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"danger",text:""},on:{click:function(t){e.value=!1}}},[t._v("Tutup")])],1)],1)]}}],null,!0)}),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[i("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(a){return t.deleteReport(e.item.id,e.item.filename)}}},"v-btn",o,!1),n),[i("v-icon",{attrs:{dark:""}},[t._v("mdi-eraser")])],1)]}}],null,!0)},[i("span",[t._v("Hapus")])])],1):t._e()])]}}])})],1),t.isLoading?i("v-progress-circular",{staticClass:"hidden-sm-and-down",staticStyle:{"margin-left":"40%","margin-right":"40%"},attrs:{size:30,width:7,color:"purple",indeterminate:""}}):t._l(t.docs,(function(e){return i("v-card",{key:e.id,staticClass:"my-4 hidden-md-and-up block"},[i("v-card-title",[i("p",{staticClass:"text-h6 text--primary"},[t._v(t._s(e.title))]),i("v-spacer"),"admin"==t.role||"teacher"==t.role?i("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mb-4",attrs:{icon:""}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-menu")])],1)]}}],null,!0)},[i("v-list",[i("v-list-item",[i("v-list-item-title",[i("div",{on:{click:function(a){return t.deleteReport(e.id,e.filename)}}},[t._v("Hapus")])])],1),i("v-list-item",[i("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[i("div",t._g(t._b({on:{click:function(a){return t.getPayload(e.id,e.title,e.description,e.class,e.full_name,e.filename_url)}}},"div",o,!1),n),[t._v(" Ubah ")])]}},{key:"default",fn:function(e){return[i("v-card",[i("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Ubah Data")]),i("v-card-text",[i("div",{},[i("v-form",{ref:"form",refInFor:!0,staticClass:"my-4",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{counter:10,rules:t.nameRules,label:"Judul Laporan",required:""},model:{value:t.updatePayload.title,callback:function(e){t.$set(t.updatePayload,"title",e)},expression:"updatePayload.title"}}),i("label",{attrs:{for:"standard-select"}},[t._v("Kelas")]),i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.updatePayload.class,expression:"updatePayload.class"}],attrs:{id:"standard-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.updatePayload,"class",e.target.multiple?a:a[0])}}},[i("option",{domProps:{value:t.updatePayload.class}},[t._v(" "+t._s(t.updatePayload.class)+" ")]),t._l(t.items,(function(e){return i("option",{key:e.index,domProps:{value:e.abbr}},[t._v(" "+t._s(e.state)+" ")])}))],2)]),i("v-textarea",{attrs:{name:"input-7-1",label:"Deskripsi",hint:"Deskripsi bersifat opsional",required:""},model:{value:t.updatePayload.description,callback:function(e){t.$set(t.updatePayload,"description",e)},expression:"updatePayload.description"}}),i("v-file-input",{attrs:{type:"file",label:"Dokumen Laporan",required:""},on:{change:function(e){return t.handleFileUpload(e)}}}),i("v-btn",{attrs:{"x-small":"",color:"secondary",href:t.updatePayload.filename,target:"_blank"}},[i("v-icon",{staticClass:"mr-2",attrs:{"x-small":""}},[t._v(" mdi-eye-outline ")]),i("span",[t._v("Lihat Dokumen")])],1),t.isLoading?i("h3",{attrs:{block:""}},[t._v(" "+t._s(t.progressUpload)+"% ")]):t._e(),t.isLoading?i("v-progress-linear",{attrs:{color:"light-green darken-4",height:"10",value:t.progressUpload,striped:""}}):t._e(),i("v-btn",{staticClass:"my-5 mr-4",attrs:{color:"success",block:""},on:{click:t.submit}},[t._v(" Ubah Data ")])],1)],1)]),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"danger",text:""},on:{click:function(t){e.value=!1}}},[t._v("Tutup")])],1)],1)]}}],null,!0)})],1)],1)],1):t._e()],1),i("v-card-text",[i("p",[i("span",{},[t._v("Guru: "+t._s(e.full_name))]),i("br"),t._v(" Kelas: "+t._s(e.class)+" "),i("br"),t._v(" Tanggal: "+t._s(t._f("moment")(e.created_at))+" "),i("br"),t._v(" Jam: "+t._s(t._f("moment_time")(e.created_at))+" ")]),i("v-btn",{attrs:{color:"primary",href:e.filename_url,target:"_blank"}},[i("v-icon",{staticClass:"mr-2"},[t._v("mdi-download")]),t._v(" Unduh Dokumen ")],1)],1)],1)}))],2)],1)},n=[],o=(a("a4d3"),a("e01a"),a("99af"),a("bc3a")),s=a.n(o),r=a("3d20"),l=a.n(r),c=a("c1df"),u=a.n(c),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-5 my-5",attrs:{fab:"",color:"primary",fixed:"",right:"",bottom:""}},"v-btn",n,!1),i),[a("v-icon",{staticClass:"mx-2",attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)]}},{key:"default",fn:function(e){return[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Upload Learning Report")]),a("v-card-text",[a("div",{},[a("v-form",{ref:"form",staticClass:"my-4",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{counter:10,rules:t.nameRules,label:"Judul",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-select",{attrs:{hint:""+t.select.state,items:t.items,"item-text":"state","item-value":"abbr",label:"Kelas","persistent-hint":"","return-object":"","single-line":"",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),a("v-textarea",{attrs:{name:"input-7-1",label:"Deskripsi",hint:"Deskripsi bersifat opsional",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("v-file-input",{attrs:{type:"file",label:"Dokumen Laporan",required:""},on:{change:function(e){return t.handleFileUpload(e)}}}),t.isLoading?a("h3",{attrs:{block:""}},[t._v(t._s(t.progressUpload)+"%")]):t._e(),t.isLoading?a("v-progress-linear",{attrs:{color:"light-green darken-4",height:"10",value:t.progressUpload,striped:""}}):a("v-btn",{staticClass:"my-5 mr-4",attrs:{disabled:!t.valid,color:"success",block:""},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{color:"danger",text:""},on:{click:function(t){e.value=!1}}},[t._v("Tutup")])],1)],1)]}}])})},h=[],p={name:"LearningReportComponent",data:function(){return{select:{state:"Toodler",abbr:"toodler"},items:[{state:"Toodler",abbr:"toodler"},{state:"Playgroup",abbr:"playgroup"},{state:"TK A",abbr:"tk-a"},{state:"TK B",abbr:"tk-b"}],title:null,description:null,file:"",progressUpload:null,isLoading:!1,dialog:!1}},methods:{handleFileUpload:function(){this.file=event.target.files[0]},submit:function(){var t=this;this.isLoading=!0;var e=new FormData;e.append("title",this.title),e.append("class",this.select.abbr),e.append("description",this.description),e.append("document",this.file),e.append("uid",localStorage.getItem("uid")),e.append("title",this.file),this.file.size>1e8?(l.a.fire({icon:"error",title:"Yah :(",text:"Ukuran file tidak boleh  lebih dari 10 MB!"}),this.isLoading=!1):this.file?s.a.post("".concat("https://api.tkbintangpertiwi.com/api/v1/","upload-learning-report"),e,{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))},onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t.progressUpload=a}}).then((function(){l.a.fire({icon:"success",title:"Berhasil mengunggah dokumen!",showConfirmButton:!1,timer:1500}).then((function(){window.location.href="/report"})),t.isLoading=!1})).catch((function(){l.a.fire({icon:"error",title:"Yah :(",text:"Nampaknya gagal mengunggah dokumen, silahkan coba lagi"}),t.isLoading=!1})):(l.a.fire({icon:"error",title:"Yah :(",text:"Anda belum memilih file dokumen laporan"}),this.isLoading=!1)}}},f=p,v=a("2877"),m=a("6544"),g=a.n(m),b=a("8336"),y=a("b0af"),_=a("99d9"),k=a("5530"),x=a("2909"),w=a("ade3"),C=(a("a9e3"),a("498a"),a("caad"),a("2532"),a("d3b7"),a("7db0"),a("368e"),a("480e")),S=a("4ad4"),V=a("b848"),B=a("75eb"),L=a("e707"),I=a("e4d3"),T=a("21be"),$=a("f2e7"),O=a("a293"),P=a("58df"),j=a("d9bd"),A=a("80d2"),D=Object(P["a"])(S["a"],V["a"],B["a"],L["a"],I["a"],T["a"],$["a"]),z=D.extend({name:"v-dialog",directives:{ClickOutside:O["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(w["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(w["a"])(t,"v-dialog--active",this.isActive),Object(w["a"])(t,"v-dialog--persistent",this.persistent),Object(w["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(w["a"])(t,"v-dialog--scrollable",this.scrollable),Object(w["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(j["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):L["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.$refs.content.contains(document.activeElement)||(t.previousActiveElement=document.activeElement,t.$refs.content.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===A["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var a=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(x["a"])(a).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(C["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(k["a"])({role:"dialog",tabindex:t.isActive?0:void 0,"aria-modal":t.hideOverlay?void 0:"true"},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(k["a"])(Object(k["a"])({},t.style),{},{maxWidth:Object(A["h"])(this.maxWidth),width:Object(A["h"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}}),F=a("53ca"),E=(a("d81d"),a("b0c0"),a("a434"),a("159b"),a("fb6a"),a("5803"),a("2677")),U=a("cc20"),R=a("d9f7"),N=E["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(A["G"])(t).every((function(t){return null!=t&&"object"===Object(F["a"])(t)}))}}},computed:{classes:function(){return Object(k["a"])(Object(k["a"])({},E["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var a=e.size,i=void 0===a?0:a;return t+i}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(A["w"])(e,1024===this.base))},internalArrayValue:function(){return Object(A["G"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var a=e.name,i=void 0===a?"":a,n=e.size,o=void 0===n?0:n,s=t.truncateText(i);return t.showSize?"".concat(s," (").concat(Object(A["w"])(o,1024===t.base),")"):s})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(j["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(A["j"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,a){return t.$createElement(U["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(a,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=E["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(R["c"])(t.data.style,{display:"none"})),t},genInput:function(){var t=E["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,i){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[i],file:a,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=E["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(k["a"])(Object(k["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(x["a"])(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"â€¦").concat(t.slice(t.length-e))}}}),H=a("4bd4"),K=a("132d"),M=a("8e36"),G=a("b974"),q=a("8654"),Y=a("a844"),W=a("71d9"),J=Object(v["a"])(f,d,h,!1,null,null,null),Z=J.exports;g()(J,{VBtn:b["a"],VCard:y["a"],VCardActions:_["a"],VCardText:_["c"],VDialog:z,VFileInput:N,VForm:H["a"],VIcon:K["a"],VProgressLinear:M["a"],VSelect:G["a"],VTextField:q["a"],VTextarea:Y["a"],VToolbar:W["a"]});var X={name:"ReportPage",components:{LearningReportDialog:Z},data:function(){return{search:"",role:null,headers:[{text:"Nama Guru",value:"full_name"},{text:"Nama Dokumen",align:"start",value:"title"},{text:"Kelas",value:"class"},{text:"Tanggal Posting",value:"created_at"},{text:"Jam Posting",value:"created_at"},{text:"Dokumen",value:"filename_url"},{text:"Actions",value:"actions"}],docs:[],select:{state:"Semua Kelas",abbr:"all"},items:[{state:"Toodler",abbr:"toodler"},{state:"Playgroup",abbr:"playgroup"},{state:"TK-A",abbr:"tk-a"},{state:"TK-B",abbr:"tk-b"}],filterClass:null,isLoading:!1,title:null,description:null,file:"",progressUpload:null,updatePayload:[{id:null,title:null,description:null,class:null,full_name:null,filename:null}]}},mounted:function(){this.roleChecker(),this.getReports()},filters:{moment:function(t){return u()(t).lang("id").format("dddd, D MMMM YYYY")},moment_time:function(t){return u()(t).format("HH:mm a")}},methods:{getPayload:function(t,e,a,i,n,o){this.updatePayload.id=t,this.updatePayload.title=e,this.updatePayload.description=a,this.updatePayload.class=i,this.updatePayload.full_name=n,this.updatePayload.filename=o},roleChecker:function(){var t=this;s.a.get("".concat("https://api.tkbintangpertiwi.com/api/v1/","me"),{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){t.role=e.data[0].role}))},getReports:function(){var t=this;this.isLoading=!0,"teacher"===localStorage.getItem("role")?s.a.get("".concat("https://api.tkbintangpertiwi.com/api/v1/","reports-by-uid?uid=").concat(localStorage.getItem("uid")),{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){t.isLoading=!1,t.docs=e.data.data})).catch((function(){t.isLoading=!1,alert("Terjadi kesalahan!")})):s.a.get("".concat("https://api.tkbintangpertiwi.com/api/v1/","learning-reports"),{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){t.isLoading=!1,t.docs=e.data})).catch((function(){t.isLoading=!1,alert("Terjadi kesalahan!")}))},filterByClass:function(){var t=this;if("teacher"===localStorage.getItem("role")){var e=null;e="all"===this.select.abbr?"".concat("https://api.tkbintangpertiwi.com/api/v1/","reports-by-uid?uid=").concat(localStorage.getItem("uid")):"".concat("https://api.tkbintangpertiwi.com/api/v1/","reports-by-uidclass?class=").concat(this.select.abbr,"&uid=").concat(localStorage.getItem("uid")),this.isLoading=!0,s.a.get(e,{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){e.data.data?(t.isLoading=!1,t.docs=e.data.data):(t.isLoading=!1,l.a.fire("Data tidak ditemukan!"),t.getReports())})).catch((function(){t.isLoading=!1,l.a.fire("Terjadi Kesalahan!")}))}else{var a=null;a="all"===this.select.abbr?"".concat("https://api.tkbintangpertiwi.com/api/v1/","learning-reports"):"".concat("https://api.tkbintangpertiwi.com/api/v1/","reports-by-class?class=").concat(this.select.abbr),this.isLoading=!0,s.a.get(a,{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){e.data.data?(t.isLoading=!1,t.docs=e.data.data):(t.isLoading=!1,l.a.fire("Data tidak ditemukan!"),t.getReports())})).catch((function(){t.isLoading=!1,l.a.fire("Terjadi Kesalahan!")}))}},handleFileUpload:function(){this.file=event.target.files[0]},submit:function(){var t=this,e=new FormData;e.append("title",this.updatePayload.title),e.append("class",this.updatePayload.class),e.append("description",this.updatePayload.description),e.append("document",this.file),console.log(e),this.file.size>1e8?(l.a.fire({icon:"error",title:"Yah :(",text:"Ukuran file tidak boleh  lebih dari 10 MB!"}),this.isLoading=!1):(this.isLoading=!0,s.a.post("".concat("https://api.tkbintangpertiwi.com/api/v1/","update-report?id=").concat(this.updatePayload.id),e,{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))},onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t.progressUpload=a}}).then((function(){l.a.fire({icon:"success",title:"Berhasil mengubah dokumen!",showConfirmButton:!1,timer:1500}).then((function(){window.location.href="/report"})),t.isLoading=!1})).catch((function(){l.a.fire({icon:"error",title:"Yah :(",text:"Nampaknya gagal mengunggah dokumen, silahkan coba lagi"}),t.isLoading=!1})))},deleteReport:function(t,e){var a=this;l.a.fire({title:"Anda yakin ingin menghapus dokumen ini?",text:"Dokumen tidak dapat dikembalikan jika telah dihapus!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus",cancelButtonText:"Batalkan"}).then((function(i){i.isConfirmed&&s.a.delete("".concat("https://api.tkbintangpertiwi.com/api/v1/","delete-report?id=").concat(t,"&filename=").concat(e),{headers:{authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(){l.a.fire("Berhasil!","Data dihapus","success"),a.getReports()})).catch((function(){a.isLoading=!1,l.a.fire("Gagal menghapus data"),a.getReports()}))}))}}},Q=X,tt=(a("fa75"),a("7496")),et=a("a523"),at=a("8fea"),it=a("8860"),nt=a("da13"),ot=a("5d23"),st=a("e449"),rt=a("490a"),lt=a("2fa4"),ct=(a("9734"),a("a9ad")),ut=a("16b7"),dt=a("f573"),ht=Object(P["a"])(ct["a"],ut["a"],V["a"],dt["a"],$["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,n=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||i?o=n+e.width/2-a.width/2:(this.left||this.right)&&(o=n+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=i+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=i+e.height/2-a.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),!1===this.attach&&(n+=this.pageYOffset),"".concat(this.calcYOverflow(n),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(A["h"])(this.maxWidth),minWidth:Object(A["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(A["t"])(this,"activator",!0)&&Object(j["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=S["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")}),e.keydown=function(e){e.keyCode===A["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(w["a"])(t,this.contentClass,!0),Object(w["a"])(t,"menuable__content__active",this.isActive),Object(w["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}}),pt=Object(v["a"])(Q,i,n,!1,null,"ba8cdac4",null);e["default"]=pt.exports;g()(pt,{VApp:tt["a"],VBtn:b["a"],VCard:y["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VChip:U["a"],VContainer:et["a"],VDataTable:at["a"],VDialog:z,VFileInput:N,VForm:H["a"],VIcon:K["a"],VList:it["a"],VListItem:nt["a"],VListItemTitle:ot["c"],VMenu:st["a"],VProgressCircular:rt["a"],VProgressLinear:M["a"],VSelect:G["a"],VSpacer:lt["a"],VTextField:q["a"],VTextarea:Y["a"],VToolbar:W["a"],VTooltip:ht})},9734:function(t,e,a){},a844:function(t,e,a){"use strict";var i=a("5530"),n=(a("a9e3"),a("1681"),a("8654")),o=a("58df"),s=Object(o["a"])(n["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null==(a=e.$refs.input)||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){n["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},d5c4:function(t,e,a){},fa75:function(t,e,a){"use strict";a("d5c4")}}]);
//# sourceMappingURL=chunk-e5707a84.08257c98.js.map